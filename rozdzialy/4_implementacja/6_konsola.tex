\section{Konsola operatora}
\sectionauthor{Mateusz Janicki}
Aplikacja, poza wykorzystaniem flysticków lub klawiatury, może być sterowana za pomocą specjalnej konsoli. Każdorazowe skorzystanie z jaskini wymaga obecności operatora, który uruchamia aplikację w trakcie prezentacji. Będzie on posiadał dostęp do konsoli, a jego zadaniem będzie przenoszenie użytkownika na konkretne węzły przy użyciu wyszukiwarki, a także włączanie zaprogramowanych tras przeglądania grafu. Co więcej, konsola posiada interfejs tworzenia tras umożliwiający szybkie i wygodne tworzenie nowych plików. 

Konsola operatora domyślnie wywoływana jest po naciśnięciu klawisza ''C''. Interfejs posiada dwie zakładki - \textit{Search} oraz \textit{Routes}. Pierwsza jest odpowiedzialna za wyszukiwanie węzłów, na które ma zostać przeniesiony użytkownik, druga służy włączaniu tras. Obydwa elementy posiadają skrypt o nazwie \codeinline{Toggle}, służący odpowiedniemu przełączaniu aktywnych elementów w konsoli. W obu zakładkach znajduje się obiekt przechowujący wyniki wyszukiwania, umieszczane w obiekcie zawierającym komponent  \codeinline{Scroll Rect}. Umożliwia on automatyczne utworzenie paska przewijania, co daje możliwość umieszczenia bardzo dużej ilości elementów.  Dodatkowo w zakładce \textit{Search} znajdują się także obiekt o nazwie  \codeinline{SearchInput} odpowiedzialny za wpisywanie wyszukiwanego węzła, posiadający skrypt  \codeinline{InputField}. Ponadto, nad konsolą znajduje się również informacja o tym, jaki węzeł jest aktualnie wybrany.

\img{\chapterPath/img/console_search.png}{Zrzut ekranu konsoli z otwartą zakładką Search}{console_search}{0.8}
\img{\chapterPath/img/console_routes.png}{Zrzut ekranu konsoli z otwartą zakładką Routes i włączoną trasą}{consoler_routes}{0.8}

Wyszukiwanie węzłów odbywa się na przygotowanym uprzednio pliku, zawierającym posortowane alfabetycznie nazwy artykułów i kategorii oraz ich ID. Przeszukiwanie listy odbywa się za pomocą algorytmu wyszukiwania binarnego. Lista elementów aktualizuje się za każdym wydarzeniem  \codeinline{OnValueChanged} obiektu  \codeinline{SearchInput}. Instancjonowane są kolejne prefaby wyników wyszukiwania, w których zmieniana jest ich pozycja w pionie, nazwa i ikona symbolizująca artykuł lub kategorię. W momencie wybrania węzła wywoływane jest zdarzenie  \codeinline{OnClick}, do którego podpięta jest funkcja  \codeinline{HistoryController} odpowiedzialna za wybranie węzła. Tło wybranego obiektu zmieniane jest na niebiesko.

Lista tras jest pobierana na podstawie aktualnie wybranej wersji Wikipedii. Prefab wyświetlający trasę posiada nazwę, długość trasy oraz przycisk służący jej włączaniu. W celu utworzenia kolejnych elementów listy wykorzystywana jest funkcja  \codeinline{Instantiate()}. W kolejnych instancjach zmieniana jest wysokość obiektu, nazwa przycisku, nazwa trasy oraz długość trasy.  W momencie włączenia trasy wywoływane jest zdarzenie  \codeinline{OnClick}, do którego podpięta jest funkcja  \codeinline{HistoryController} wczytująca trasę o numerze indeksu, którą posiada wciśnięty przycisk. Ponadto tło wybranego obiektu zmieniane jest na niebieski.
